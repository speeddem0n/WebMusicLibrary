# üé∂ –û–Ω–ª–∞–π–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–µ—Å–µ–Ω
–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è effective mobile

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –ø–µ—Å–µ–Ω. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Å–Ω—è–º–∏, –≤–∫–ª—é—á–∞—è –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Å–µ–Ω —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –∫—É–ø–ª–µ—Ç—ã, –∞ —Ç–∞–∫–∂–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ø–µ—Å–µ–Ω.
–í –∫–∞—á–µ—Å—Ç–≤–µ web —Ñ–µ–π–º–≤–æ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <a href="https://github.com/gin-gonic/gin">gin-gonic/gin</a>.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/speeddem0n/WebMusicLibrary
cd WebMusicLibrary
```
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–∫–∞–∂–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ .env. –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ–º:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –û–ø–∏—Å–∞–Ω–∏–µ                                          | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è           |
|------------------|--------------------------------------------------|---------------------------|
| SERVER_HOST    | –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞                                   | localhost               |
| SERVER_PORT    | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞                                    | 8000                    |
| DB_HOST        | –ê–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                         | localhost               |
| DB_PORT        | –ü–æ—Ä—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö              | 5432                    |
| DB_USERNAME    | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö  | postgres                |
| DB_NAME        | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                                 | music_library           |
| DB_PASSWORD    | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                 | password                |
| DB_SSLMODE     | SSL mode                                        | disable                 |
| API_URL        | URL –≤–Ω–µ—à–Ω–µ–≥–æ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Å–Ω—è—Ö | api.example.com –∏–ª–∏ localhost (–±–µ–∑ –ø—Ä–∏—Å—Ç–∞–≤–∫–∏ http://)|
| API_PORT       | –ü–æ—Ä—Ç, –≤–Ω–µ—à–Ω–µ–≥–æ API                              | 8080                    |

### –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞

```dotenv
SERVER_HOST = localhost
SERVER_PORT = 8000
DB_HOST = localhost
DB_PORT = 5438
DB_USERNAME = postgres
DB_NAME = songlib
DB_PASSWORD = postgres
DB_SSLMODE = disable
API_URL = localhost
API_PORT = 8080
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
go mod tidy
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
go run cmd/main.go
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
1. REST API –ú–µ—Ç–æ–¥—ã:
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π:
     - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–ª—è–º: group, song, releaseDate, text, link.
     - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞.
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –ø–æ –∫—É–ø–ª–µ—Ç–∞–º:
     - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏ –Ω–∞ –∫—É–ø–ª–µ—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π.
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏
    –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–µ—Å–Ω–µ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API (–æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤ Swagger) –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Å–Ω–∏:
     - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏–ª–∏ –≤—Å–µ—Ö –ø–æ–ª–µ–π —Å—Ä–∞–∑—É.
   - –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–Ω–∏:
     - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º API:
   - –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –≤ API, –æ–ø–∏—Å–∞–Ω–Ω—ã–π Swagger:
     - –ü—É—Ç—å: /info
     - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞: group, song.
     - –û—Ç–≤–µ—Ç: –û–±–æ–≥–∞—â–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Å–Ω–µ (–¥–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞, —Ç–µ–∫—Å—Ç, —Å—Å—ã–ª–∫–∞).

3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL.
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–∏–≥—Ä–∞—Ü–∏–π, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º <a href="https://github.com/pressly/goose">goose</a>).

4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ debug- –∏ info-–ª–æ–≥–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <a href="https://github.com/sirupsen/logrus">logrus</a>.

5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ .env —Ñ–∞–π–ª–µ.

6. Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω Swagger –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ API.
   - –î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ /swagger/index.html –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

---

## –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Å–µ–Ω
GET /
```http
GET http://localhost:8000/?page=1&pageSize=4&group=Muse
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏
GET /:id
```http
GET http://localhost:8080/1?page=1&pageSize=5
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–µ—Å–Ω–∏
POST /
```http
POST http://localhost:8000/
Content-Type: application/json

{
  "group": "Muse",
  "song": "Supermassive Black Hole"
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Å–Ω–∏
PUT /:id
```http
PUT http://localhost:8000/1
Content-Type: application/json

{
  "text": "Updated song text"
}
```

## –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–Ω–∏
DELETE /:id
```http
DELETE http://localhost:8000/1
```

---

## Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
```http
http://localhost:8080/swagger/index.html
```

